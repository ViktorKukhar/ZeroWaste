<div class="container">
  <% set_meta_tags(title: t(".title")) %>
    <div class="col-md-6">
      <%= search_form_for(@q, url: [:account, :messages], method: :get, class: "d-flex mb-5") do |f| %>
        <%= f.search_field :title_or_email_or_message_cont, placeholder: t(".search_placeholder"), class: "form-input me-2" %>
        <%= f.button t(".search_button"), class: "btn btn-blue px-4 items-center" %>
      <% end %>
  </div>

  <table aria-label="messages table" class="table admin-table">
    <caption class="sr-only">This table displays a list of messages.</caption>
    <thead>
      <tr>
        <th scope="col"><%= sort_link(@q, :id, "#", default_order: :desc) %></th>
        <th scope="col"><%= sort_link(@q, :title, t('.table.title'), default_order: :desc) %></th>
        <th scope="col"><%= sort_link(@q, :email, t('.table.email'), default_order: :desc) %></th>
        <th scope="col"><%= sort_link(@q, :message, t('.table.message'), default_order: :desc) %></th>
        <th scope="col" class="text-center"><%= t('.table.show_more') %></th>
      </tr>
    </thead>
    <tbody class="admin-table-links">
      <% @messages.each do |message| %>
        <tr>
          <th scope="row"><%= message.id %></th>
          <td><%= message.title %></td>
          <td><%= message.email %></td>
          <td><%= message.message.first(40) %></td>
          <td "<td class="text-center"><%= link_to icon('fa-solid', 'eye'), account_message_path(id: message, locale: I18n.locale) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
